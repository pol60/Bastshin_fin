{"version":3,"file":"TopRatedSection-DY78iUV-.js","sources":["../../src/pagesHome/HomeSections/TopRatedSection.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport { Button } from '../../components/ui/button';\nimport { Product } from '../Home';\nimport { ProductCardProps } from '../ProductCard';\n\ninterface TopRatedSectionProps {\n  topRated: Product[];\n  currentTopIndex: number;\n  onPrev: () => void;\n  onNext: () => void;\n  isMobile: boolean;\n  dragOffset: number;\n  isDragging: boolean;\n  handleTouchStart: (e: React.TouchEvent) => void;\n  handleTouchMove: (e: React.TouchEvent) => void;\n  handleTouchEnd: () => void;\n  lastProductRef: (node: HTMLDivElement | null) => void;\n  isLoading: boolean;\n  renderProductCard: (\n    product: Product,\n    isLazy?: boolean,\n    className?: string,\n    customProps?: Partial<ProductCardProps>\n  ) => JSX.Element | null;\n}\n\nconst TopRatedSection: React.FC<TopRatedSectionProps> = ({\n  topRated = [],\n  currentTopIndex = 0,\n  onPrev,\n  onNext,\n  isMobile,\n  dragOffset = 0,\n  isDragging = false,\n  handleTouchStart,\n  handleTouchMove,\n  handleTouchEnd,\n  lastProductRef,\n  renderProductCard,\n}) => {\n  const [desktopActive, setDesktopActive] = useState(false);\n\n  const safeIndex = Math.max(0, Math.min(currentTopIndex, topRated.length - 1));\n\n  if (topRated.length === 0) return null;\n\n  return (\n    <section id=\"top\" className=\"mb-2\">\n      <h2 className=\"text-2xl lg:text-2xl font-bold mb-6 text-center\">\n        Хіти продажу\n      </h2>\n\n      {isMobile ? (\n        <div\n          className=\"relative border-2 border-yellow-400 pb-6 rounded-[12px] px-2 pt-2 mx-2 overflow-hidden\"\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n        >\n          <div\n            className=\"flex\"\n            style={{\n              transform: `translateX(calc(-${safeIndex * 100}% + ${dragOffset}px))`,\n              transition: isDragging ? 'none' : 'transform 500ms ease',\n            }}\n          >\n            {topRated.map((product, index) => (\n              product && (\n                <div\n                  key={product.id || index}\n                  className=\"flex-shrink-0 w-full\"\n                  ref={index === topRated.length - 1 ? lastProductRef : null}\n                >\n                  <div className=\"mx-auto w-full pb-8\">\n                    {renderProductCard(product, false, undefined, {\n                      imageHeight: \"h-48\",\n                      showAvailability: false,\n                      discountIconClass: \"ml-8 top-4 scale-125\",\n                      heartClass: \"absolute bottom-2 left-auto right-5 -top-4 scale-110\",\n                    })}\n                  </div>\n                </div>\n              )\n            ))}\n          </div>\n\n          <div className=\"absolute bottom-3 left-0 right-0\">\n            <div className=\"flex items-center justify-between bg-white/80 backdrop-blur-sm py-2 px-4 rounded-full shadow-sm mx-4\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={onPrev}\n                className=\"h-8 w-8 bg-blue-600/20 hover:bg-blue-600/30\"\n              >\n                <ChevronLeft className=\"h-5 w-5 text-blue-600\" />\n              </Button>\n\n              <div className=\"flex gap-1.5\">\n                {topRated.map((_, i) => (\n                  <div\n                    key={i}\n                    className={`w-2.5 h-2.5 rounded-full transition-all ${i === safeIndex ? 'bg-yellow-400 scale-125' : 'bg-blue-200'}`}\n                  />\n                ))}\n              </div>\n\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={onNext}\n                className=\"h-8 w-8 bg-blue-600/20 hover:bg-blue-600/30\"\n              >\n                <ChevronRight className=\"h-5 w-5 text-blue-600\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"border-2 border-yellow-400 rounded-[12px] p-2 max-w-sm mx-auto overflow-hidden\">\n          <div\n            className=\"flex\"\n            style={{\n              transform: `translateX(-${safeIndex * 100}%)`,\n              transition: 'transform 500ms ease',\n            }}\n            onMouseDown={() => setDesktopActive(true)}\n            onMouseUp={() => setDesktopActive(false)}\n            onMouseLeave={() => setDesktopActive(false)}\n          >\n            {topRated.map((product, index) => (\n              <div key={product.id || index} className=\"flex-shrink-0 w-full\">\n                {renderProductCard(product, false, desktopActive ? 'shadow-lg' : '', {\n                  imageHeight: \"lg:h-48\",\n                  showAvailability: false,\n                  discountIconClass: \"lg:scale-125 lg:ml-10 lg:top-4\",\n                  heartClass: \"lg:bottom-4 lg:top-6 lg:left-auto lg:right-5 lg:scale-110\",\n                })}\n              </div>\n            ))}\n          </div>\n\n          <div className=\"mt-2 flex justify-center gap-4 py-2\">\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={onPrev}\n              className=\"h-8 w-8 bg-blue-600/80 hover:bg-blue-600/90 text-white transition-transform active:scale-95\"\n            >\n              <ChevronLeft className=\"h-6 w-6\" />\n            </Button>\n\n            <div className=\"flex items-center gap-3\">\n              {topRated.map((_, i) => (\n                <div\n                  key={i}\n                  className={`w-2.5 h-2.5 rounded-full transition-all ${i === safeIndex ? 'bg-yellow-400 scale-125' : 'bg-blue-200'}`}\n                />\n              ))}\n            </div>\n\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={onNext}\n              className=\"h-8 w-8 bg-blue-600/80 hover:bg-blue-600/90 text-white transition-transform active:scale-95\"\n            >\n              <ChevronRight className=\"h-6 w-6\" />\n            </Button>\n          </div>\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default TopRatedSection;\n"],"names":["TopRatedSection","topRated","currentTopIndex","onPrev","onNext","isMobile","dragOffset","isDragging","handleTouchStart","handleTouchMove","handleTouchEnd","lastProductRef","renderProductCard","desktopActive","setDesktopActive","useState","safeIndex","jsxs","jsx","product","index","Button","ChevronLeft","_","i","ChevronRight"],"mappings":"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"}